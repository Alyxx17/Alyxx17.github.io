---
title: 卡尔曼滤波基本原理
date: 2026-02-16 20:00:00 +0800
categories: [控制,算法]
tags: [控制]
math: true  # <-- 就是这一行，启用本页的数学公式渲染
---

## 序  

> 这是个人的一小步，却是人类的一大步。(That's one small step for man, one giant leap for mankind.) ——尼尔·奥尔登·阿姆斯特朗（Neil Alden Armstrong)

## 预备知识

### 矩阵  

矩阵的基本概念，运算，转置，逆等。  

### 期望  

在概率论和统计学中，一个离散性随机变量的期望是试验中每次可能的结果乘以其结果概率的总和。例如，掷一枚公平的六面骰子，其每次“点数”的期望是3.5，计算如下：

$$
E(X) = 1 \cdot \frac{1}{6} + 2 \cdot \frac{1}{6} + 3 \cdot \frac{1}{6} + 4 \cdot \frac{1}{6} + 5 \cdot \frac{1}{6} + 6 \cdot \frac{1}{6}
= \frac{1 + 2 + 3 + 4 + 5 + 6}{6} = 3.5
$$

如果$X$是连续的随机变量，存在一个相应的概率密度函数$f(x)$，若积分$\int\limits_{-∞}^{∞} xf(x)dx$绝对收敛，那么$X$的期望可以计算为：  

$$
E(X)=\int\limits_{-∞}^{∞} xf(x)dx
$$

是针对于连续的随机变量的，与离散随机变量的期望的算法同出一辙，由于输出值是连续的，所以把求和改成了积分。

期望$E$是线性函数，即:$E(aX+bY)=aE(X)+bE(Y)$  

### 方差   

方差是刻画随机变量在其中心位置附近散布程度的数学特征，反映了随机变量取值的离散程度。方差提供了衡量数据在平均值附近波动程度的方法：方差越大，数据分布越分散，波动越大；方差越小，数据越集中，波动越小。为了消除偏差带来的正负抵消，方差对偏离均值的差值进行平方后取期望。方差的常用符号有：$σ^2，s^2，Var(X)，D(X)$。方差的计算公式如下：

$$
Var(x)=E[(X-\mu )^2]
$$

其中$\mu=E(X)$。


### 协方差  

在概率论与统计学中，协方差（Covariance）用于衡量随机变量间的相关程度。  

设$X$和$Y$为两个实值随机变量，它们的协方差定义为它们偏离各自期望值的乘积的期望值，即：  

$$
Cov(X, Y) = E[(X - E[X])(Y - E[Y])]
$$

可以看出协方差的形式类似于方差，只是把其中的一个随机变量$X$换成了$Y$。

通过利用期望的线性性质，协方差的计算公式可以简化为：  

$$
\begin{aligned}
Cov(X, Y) &= E[(X - E[X])(Y - E[Y])] \\
&= E[XY - XE[Y] - E[X]Y + E[X]E[Y]] \\
&= E[XY] - E[X]E[Y] - E[X]E[Y] + E[X]E[Y] \\
&= E[XY] - E[X]E[Y]
\end{aligned}
$$

当协方差为正值时，表明随机变量X和Y倾向于同时偏离其平均值，呈正相关关系；反之，若协方差为负值，则表明一个变量高于平均值时，另一个倾向于低于平均值，呈负相关关系。如果协方差为零，这意味着两个变量之间没有线性关系。

若随机变量$X$与$Y$是相互独立的，那么$Cov(X, Y)=0$。反之，如果两个变量的协方差为$0$（即不相关），不能推出它们相互独立。  

下图表明了协方差的意义

![协方差的意义](assets/img/study/Covariance_trends.webp)

### 白噪声

如果对于所有的$t_1≠t_2$,随机变量$X(t_1)$独立于随机变量 $X(t_2)$,那么$X(t)$被称为白噪声。否则,$X(t)$被称为有色噪声。

白噪声有如下基本性质：  

零均值：对所有时间$t$，期望为$0$

同方差性： 方差是恒定的，不随时间变化。 

无自相关性： 在不同时间点上的协方差为零（即没有线性关系）。

### 递推最小二乘估计

本节将要讨论如何基于带噪声的测量值去估计一个常量。例如,假设我们有一个电阻,但是我们不知道其电阻值是多少。我们用一个万用表多次测量它的阻值,但是因为这个万用表质量不是特别好,所以测量值是带噪声的。在这个例子里,我们可能只需要估计一个标量,但是通常情况下,我们会去估计一个常向量。

把这个例子用数学形式描述,假设$x$是一个固定的但是值是未知的$n$维向量,$y$是一个$k$维的包含噪声的测量值向量。我们如何能够获得$x$的最佳估计值$\hat{x} $?假设$y$中的每个元素都是$x$中元素的线性组合与噪声$v$的和,这样可以表示为:

$$
\begin{aligned}
y_1 &= H_{11}x_1 + \cdots + H_{1n}x_n + v_1 \\
&\vdots \\
y_k &= H_{k1}x_1 + \cdots + H_{kn}x_n + v_k
\end{aligned}
$$

## 卡尔曼滤波

## 相关代码

## 常见问题

### 卡尔曼滤波与一般观测器的区别与联系

### 卡尔曼滤波与最小二乘法的区别与联系

## 参考   

最优状态估计:卡尔曼,H∞及非线性滤波(美)西蒙(Simon,D.)著;张勇刚,李宁,奔粤阳译.一北京:国防工业出版社,2013.5 ISBN 978-7-118-08808-3

网上相关资源  
